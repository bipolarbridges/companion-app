name: build
on: push
defaults:
  runs-on: ubuntu-latest
jobs:
  lint-server:
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '10'
      - uses: ./.github/actions/setup
      - run: yarn lint:server
  build-server:
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '10'
      - uses: ./.github/actions/setup
      - run: yarn build:server
  build-dashboard: 
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '10'
      - uses: ./.github/actions/setup
      - run: yarn build:dashboard
  tsc-mobile:
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '10'
      - uses: ./.github/actions/setup
      - run: yarn run tsc
        working-directory: mobile
  build-android:
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '10'
      - uses: ./.github/actions/setup
      - run: yarn build:android
